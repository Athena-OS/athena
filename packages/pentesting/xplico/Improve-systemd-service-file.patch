From: =?utf-8?q?Rapha=C3=ABl_Hertzog?= <hertzog@debian.org>
Date: Mon, 19 Aug 2019 09:35:21 +0200
Subject: Improve systemd service file

---
 Makefile       | 4 ++--
 xplico.service | 5 +++--
 2 files changed, 5 insertions(+), 4 deletions(-)

diff --git a/Makefile b/Makefile
index bb82933..30509f6 100644
--- a/Makefile
+++ b/Makefile
@@ -227,8 +227,8 @@ install: installcp
 	cp $(INSTALL_DIR)/cfg/apache_xi $(DESTDIR)/etc/apache2/sites-available/httpd-xplico.conf
 	mkdir -p $(DESTDIR)/etc/httpd/conf/extra
 	cp $(INSTALL_DIR)/cfg/httpd_xi $(DESTDIR)/etc/httpd/conf/extra/httpd-xplico.conf
-	mkdir -p $(DESTDIR)/usr/lib/systemd/system
-	cp xplico.service $(DESTDIR)/usr/lib/systemd/system/
+	mkdir -p $(DESTDIR)/lib/systemd/system
+	cp xplico.service $(DESTDIR)/lib/systemd/system/
 	mkdir -p $(DESTDIR)/opt/xplico/xi/app/tmp/cache
 	mkdir -p $(DESTDIR)/opt/xplico/xi/app/tmp/cache/models
 	mkdir -p $(DESTDIR)/opt/xplico/xi/app/tmp/cache/persistent
diff --git a/xplico.service b/xplico.service
index fbab722..7e6775f 100644
--- a/xplico.service
+++ b/xplico.service
@@ -1,13 +1,14 @@
 [Unit]
 Description=Xplico
-After=network.target syslog.target
+After=network.target
+Documentation=https://www.xplico.org/docs
 
 [Service]
 Type=forking
 PrivateTmp=true
 ExecStart=/opt/xplico/bin/dema -d /opt/xplico -b sqlite
 Restart=always
-PIDFile=/var/run/dema.pid
+PIDFile=/run/dema.pid
 
 [Install]
 WantedBy=multi-user.target
