# Credits BlackArch ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=binaryninja-free
pkgver=3.5.4526
pkgrel=1
pkgdesc='A new kind of reversing platform (free version).'
groups=('role-mobile' 'role-malware' 'athena' 'athena-reversing'
        'athena-binary')
arch=('x86_64')
url='https://binary.ninja/free/'
license=('custom:commercial' 'evaluation')
depends=('libglvnd' 'libxkbcommon-x11')
source=('https://cdn.binary.ninja/installers/binaryninja_free_linux.zip')
sha512sums=('d8347fcff51e5eb25ba09bfa0702d483bafddfd8009a3cb8c0cf1b6dd353ed9ef42af05abfc1fa1c6aeaa142aa49fd8cd79652a90618e90d128a880c7bec37bd')

package() {
  cd binaryninja

  install -dm 755 "$pkgdir/usr/bin"
  install -dm 755 "$pkgdir/usr/share/$pkgname"

  cp -a * "$pkgdir/usr/share/$pkgname"

  cat > "$pkgdir/usr/bin/$pkgname" << EOF
#!/bin/sh
cd /usr/share/$pkgname
exec ./binaryninja "\$@"
EOF

  chmod +x "$pkgdir/usr/bin/$pkgname"
}

