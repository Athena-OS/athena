# Credits BlackArch ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=php-pear
epoch=1
pkgver=1.10.23
pkgrel=2
arch=('any')
pkgdesc='PHP Extension and Application Repository'
url='https://pear.php.net/package/pearweb_phars/'
depends=('php')
license=('PHP')
source=("install-pear-nozlib-${pkgver}.phar::https://github.com/pear/pearweb_phars/raw/v${pkgver}/install-pear-nozlib.phar")
backup=('etc/php/pear.conf')
sha512sums=('185726da5f28b84308049bf058496b17f631fe68610b310f66095eea5587cff3a9da4cdc7cd22dd8c356977ec361ed32b849664985ecaa6d442e115c96673b93')

package() {
	PHP_PEAR_SYSCONF_DIR=/etc/php \
	INSTALL_ROOT="$pkgdir" \
		php -n "install-pear-nozlib-${pkgver}.phar" \
			-d /usr/share/pear \
			-b /usr/bin

	rm -rf "${pkgdir}"{/usr/share/pear/,/php-pear/,/}.{channels,depdb,depdblock,filemap,lock,registry}
}

