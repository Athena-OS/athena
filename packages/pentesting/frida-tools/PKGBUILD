# Credits BlackArch ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=python-frida-tools
_pkgname=${pkgname#python-}
pkgver=13.6.1
pkgrel=1
pkgdesc='Frida CLI tools.'
groups=('role-mobile' 'role-malware' 'athena' 'athena-mobile' 'athena-binary'
        'athena-reversing')
arch=('any')
url='https://pypi.org/project/frida-tools/#files'
license=('custom:unknown')
depends=('python' 'python-frida' 'python-colorama' 'python-prompt_toolkit'
         'python-pygments' 'libimobiledevice')
makedepends=('python-build' 'python-installer' 'python-setuptools' 'python-wheel')
options=(!emptydirs)
source=("https://files.pythonhosted.org/packages/source/${_pkgname::1}/$_pkgname/$_pkgname-$pkgver.tar.gz"
        'setup.py.patch')
sha512sums=('551dbbdf5d2e7dbf2df69242ff6c5a47e1db5f887136d345bec69a7f5e28cf794b319d5be7b39ebe4ab2a234bbbe859bf6b9f38f7374003faa3df029584304e9'
            '48dc1d48f21e0d5672b7b628aca40c2431687608c4e228fbace9c88172b13103814af6ef9abebb4539fafa5700787b9af2c86b0c3b7988c805711db7458186e4')

build() {
  cd "$_pkgname-$pkgver"

  python -m build --wheel --no-isolation
}

package() {
  cd "$_pkgname-$pkgver"

  python -m installer --destdir="$pkgdir" dist/*.whl
}

