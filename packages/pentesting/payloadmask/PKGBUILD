# Credits BlackArch ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=payloadmask
pkgver=0.2
pkgrel=1
pkgdesc='Web Payload list editor to use techniques to try bypass web application firewall.'
groups=('athena' 'athena-webapp')
arch=('x86_64' 'aarch64')
url='https://sourceforge.net/projects/payloadmask'
license=('GPL-3.0-or-later')
makedepends=('git')
source=("https://master.dl.sourceforge.net/project/payloadmask/$pkgname-$pkgver.zip")
sha512sums=('7c321e57f779e8be91bbc3caa6b6ccb54c107573e774a0dfda06ef70b77071768b7334f5f02d61d2042f308f42214084bb2abf58931ce5d1a545a42fd78b0eae')

build() {
  cd $pkgname-$pkgver

  make
}

package() {
  cd $pkgname-$pkgver

  install -dm 755 "$pkgdir/usr/share/$pkgname"
  install -dm 755 "$pkgdir/usr/share/doc/$pkgname"

  install -Dm 755 $pkgname "$pkgdir/usr/bin/$pkgname"
  cp -a README.md doc/* "$pkgdir/usr/share/doc/$pkgname/"
  install -Dm 644 -t "$pkgdir/usr/share/$pkgname/payloads/" payloads/*
  install -Dm 644 LICENSE.txt "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}

